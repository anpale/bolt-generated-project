---
    import Layout from '../layouts/Layout.astro';
    import BlogPost from '../components/BlogPost.astro';

    const allPosts = await Astro.glob('../pages/posts/*.mdx');
    const posts = allPosts.sort((a, b) => new Date(b.frontmatter.date).valueOf() - new Date(a.frontmatter.date).valueOf());
    ---

    <Layout title="My Astro Blog">
      <main>
        <h1>Welcome to my blog</h1>
        <p>Here you'll find my thoughts and writings.</p>
        <ul>
          {posts.map((post) => (
            <BlogPost
              title={post.frontmatter.title}
              description={post.frontmatter.description}
              link={post.url}
            />
          ))}
        </ul>
      </main>
    </Layout>
